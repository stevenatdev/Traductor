<app-navbar></app-navbar>
<div class="ion-page" id="main-content">
  <ion-header>
    <ion-toolbar>
      <ion-title>Lista de Administradores</ion-title>
      <ion-buttons slot="end">
        <ion-menu-button></ion-menu-button>
      </ion-buttons>
    </ion-toolbar>
  </ion-header>

  <ion-content [fullscreen]="true">
    <ion-header collapse="condense">
      <ion-toolbar>
        <ion-title size="large">Administradores</ion-title>
      </ion-toolbar>
    </ion-header>

    <!-- Botón para agregar un nuevo admin -->
    <ion-fab vertical="bottom" horizontal="end" slot="fixed">
      <ion-fab-button color="success" (click)="agregar()">
        <i class='bx bx-cross icon'></i>
      </ion-fab-button>
    </ion-fab>

    <!-- Tabla para listar los admin -->
    <ion-grid>
      <ion-row>
        <ion-col size="12">
          <ion-card>
            <ion-card-content>
              <!-- Tabla HTML tradicional para evitar deformaciones -->
              <table class="admin-table" style="width: 100%; border-collapse: collapse;">
                <thead>
                  <tr class="">
                    <th [style]="{ 'text-align': 'start' }"><b>Cédula</b></th>
                    <th [style]="{ 'text-align': 'start' }"><b>Nombre</b></th>
                    <th></th>
                  </tr>
                </thead>
                <tbody>
                  <!-- Fila por cada admin -->
                  @for (admin of admins; track $index) {
                  <tr>
                    <td>{{ admin.cedula }}</td>
                    <td>{{ admin.nombre }}</td>
                    <td class="flex justify-end">
                      <!-- Botones de acciones (Editar, Eliminar) -->
                      <ion-button size="small" color="success" (click)="editar(admin.id)">
                        <i class='bx bx-edit icon'></i>
                      </ion-button>

                      <ion-button size="small" color="danger" (click)="eliminarAdmin(admin.id)">
                        <i class='bx bx-trash icon'></i>
                      </ion-button>
                    </td>
                  </tr>
                  }
                </tbody>
              </table>
            </ion-card-content>
          </ion-card>
        </ion-col>
      </ion-row>
    </ion-grid>
  </ion-content>
</div>